<ion-header [translucent]="true">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>2.1 - Nombre de la persona productora (PP) </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
    <form #frmData="ngForm">
    <ion-list>

        <h2>2.1.1 - ¿Cuál es el nombre de la persona que asume las responsabilidades economicas, los riesgos y las decisiones tecnicas que se realizan en los terrenos considerados para esta entrevista?</h2>

        @if (boleta().personaProductora.isPersonaNaturalShow) {
        <ion-item>
            <ion-label><span class="label-codigo">2.1.1.1</span>Persona Natural</ion-label>
            <ion-toggle slot="end" [checked]="boleta().personaProductora.isPersonaNatural"
                (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.isPersonaNatural')">
            </ion-toggle>
        </ion-item>
      }

        <h2>9.1.2 - Indicar el nombre de la persona que entregó la información:</h2>

        @if (boleta().personaProductora.primerNombreShow) {
        <ion-item class="split-60-40">
            <div class="split-60">
                <ion-label><span class="label-codigo">2.1.1.1.1</span>Primer nombre</ion-label>
            </div>
            <div class="split-40">
                <ion-input #primerNombreInput="ngModel" name="primerNombre" type="text"
                    required="true" maxlength="20" mpText [(ngModel)]="boleta().personaProductora.primerNombre"
                    (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.primerNombre')">
                </ion-input>
            </div>
        </ion-item>
        <mp-input-error field="primerNombre" [control]="primerNombreInput.control"
            [value]="boleta().personaProductora.primerNombre"></mp-input-error>
      }

        @if (boleta().personaProductora.segundoNombreShow) {
        <ion-item class="split-60-40">
            <div class="split-60">
                <ion-label><span class="label-codigo">2.1.1.1.2</span>Segundo nombre</ion-label>
            </div>
            <div class="split-40">
                <ion-input #segundoNombreInput="ngModel" name="segundoNombre" type="text"
                    maxlength="20" mpText [(ngModel)]="boleta().personaProductora.segundoNombre"
                    (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.segundoNombre')">
                </ion-input>
            </div>
        </ion-item>
        <mp-input-error field="segundoNombre" [control]="segundoNombreInput.control"
            [value]="boleta().personaProductora.segundoNombre"></mp-input-error>
      }

        @if (boleta().personaProductora.primerApellidoShow) {
        <ion-item class="split-60-40">
            <div class="split-60">
                <ion-label><span class="label-codigo">2.1.1.1.3</span>Primer apellido</ion-label>
            </div>
            <div class="split-40">
                <ion-input #primerApellidoInput="ngModel" name="primerApellido" type="text"
                    required="true" maxlength="20" mpText [(ngModel)]="boleta().personaProductora.primerApellido"
                    (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.primerApellido')">
                </ion-input>
            </div>
        </ion-item>
        <mp-input-error field="primerApellido" [control]="primerApellidoInput.control"
            [value]="boleta().personaProductora.primerApellido"></mp-input-error>
      }

        @if (boleta().personaProductora.segundoApellidoShow) {
        <ion-item class="split-60-40">
            <div class="split-60">
                <ion-label><span class="label-codigo">2.1.1.1.4</span>Segundo apellido</ion-label>
            </div>
            <div class="split-40">
                <ion-input #segundoApellidoInput="ngModel" name="segundoApellido" type="text"
                    maxlength="20" mpText [(ngModel)]="boleta().personaProductora.segundoApellido"
                    (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.segundoApellido')">
                </ion-input>
            </div>
        </ion-item>
        <mp-input-error field="segundoApellido" [control]="segundoApellidoInput.control"
            [value]="boleta().personaProductora.segundoApellido"></mp-input-error>
      }

        @if (boleta().personaProductora.isPersonaJuridicaShow) {
        <ion-item>
            <ion-label><span class="label-codigo">2.1.1.2</span>Personería Jurídica</ion-label>
            <ion-toggle slot="end" [checked]="boleta().personaProductora.isPersonaJuridica"
                (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.isPersonaJuridica')">
            </ion-toggle>
        </ion-item>
      }

        @if (boleta().personaProductora.razonSocialShow) {
        <ion-item class="split-60-40">
            <div class="split-60">
                <ion-label><span class="label-codigo">2.1.1.2.1</span>Razón social</ion-label>
            </div>
            <div class="split-40">
                <ion-input #razonSocialInput="ngModel" name="razonSocial" type="text"
                    required="true" maxlength="92" mpAlphanumeric [(ngModel)]="boleta().personaProductora.razonSocial"
                    (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.razonSocial')">
                </ion-input>
            </div>
        </ion-item>
        <mp-input-error field="razonSocial" [control]="razonSocialInput.control"
            [value]="boleta().personaProductora.razonSocial"></mp-input-error>
      }

        <h1>2.2 - Identificación de la persona productora (PP)/empresa</h1>

        @if (boleta().personaProductora.tipoIdentificacionShow) {
        <ion-item button (click)='openModal("tipoIdentificacion","personaProductora")'>
            <ion-label><span class="label-codigo">2.2.1</span>Tipo de Identificación</ion-label>
            <ion-text slot="end">{{ catalogoService.getDescripcionByCodigo(boleta().personaProductora.tipoIdentificacion)() }}
            {{ boleta().personaProductora.tipoIdentificacion }}</ion-text>
            <ion-icon slot="end" name="chevron-down-outline"></ion-icon>
        </ion-item>
      }

        @if (boleta().personaProductora.identificacionShow) {
        <ion-item class="split-60-40">
            <div class="split-60">
                <ion-label><span class="label-codigo">2.2.2</span>Identificacion</ion-label>
            </div>
            <div class="split-40">
                <ion-input #identificacionInput="ngModel" name="identificacion" type="text"
                    required="true" maxlength="24" mpAlphanumeric [(ngModel)]="boleta().personaProductora.identificacion"
                    (ionChange)="this.boletaService.onInputChange($event, 'personaProductora.identificacion')">
                </ion-input>
            </div>
        </ion-item>
        <mp-input-error field="identificacion" [control]="identificacionInput.control"
            [value]="boleta().personaProductora.identificacion"></mp-input-error>
      }

    </ion-list>
    </form>
</ion-content>
<ion-footer>
    <ion-toolbar class="mp-footer-buttons-toolbar">
        <div class="mp-footer-buttons-container">
            <ion-button fill="solid" color="secondary" (click)="onButtonBack()" class="mp-footer-button">
                <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
                Anterior
            </ion-button>
            <ion-button fill="solid" color="primary" (click)="onButtonNext()" class="mp-footer-button"
                [disabled]="frmData.invalid">
                <span> Siguiente </span>
                <ion-icon name="arrow-forward-outline" slot="end"></ion-icon>
            </ion-button>
        </div>
    </ion-toolbar>
</ion-footer>
